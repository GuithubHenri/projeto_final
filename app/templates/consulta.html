{% extends "base.html" %}
{% block title %}Rastrear Pedido — LoadPro{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
  
    <div style="background: #1a1a1a; padding: 30px; border-radius: 10px; border: 1px solid #333;">
      <h2 style="text-align: center; font-family: 'Orbitron'; margin-bottom: 20px;">Rastreie sua entrega</h2>

      <form method="get" style="display: flex; gap: 10px; margin-bottom: 30px;">
        <input name="codigo" 
               value="{{ request.GET.codigo|default_if_none:'' }}" 
               type="text" 
               style="flex: 1; padding: 10px; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px;" 
               placeholder="Ex: A1B2C3D4..." autofocus>
        <button style="padding: 10px 20px; background: #00d4ff; border: none; font-weight: bold; cursor: pointer; border-radius: 5px;">Rastrear</button>
      </form>

      {% if resultado %}
      <div style="background: #0d0d0d; padding: 20px; border-radius: 5px; border-left: 4px solid #00d4ff;">
        
        <div style="margin-bottom: 15px;">
          <span style="display: block; font-size: 0.8em; color: #888;">STATUS ATUAL</span>
          <span style="font-size: 1.5em; font-weight: bold; color: #00d4ff;">{{ resultado.get_status_display }}</span>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div>
                <span style="display: block; font-size: 0.8em; color: #888;">ITEM</span>
                <span>{{ resultado.descricao_item }}</span>
            </div>
            <div>
                <span style="display: block; font-size: 0.8em; color: #888;">DESTINATÁRIO</span>
                <span>{{ resultado.destinatario_nome }}</span>
            </div>
            <div>
                <span style="display: block; font-size: 0.8em; color: #888;">DATA ENVIO</span>
                <span>{{ resultado.data_criacao|date:"d/m/Y" }}</span>
            </div>
            <div>
                <span style="display: block; font-size: 0.8em; color: #888;">PREVISÃO</span>
                <span>{{ resultado.previsao_entrega|date:"d/m/Y" }}</span>
            </div>
        </div>

      </div>
      {% elif request.GET.codigo %}
      <div style="background: #330000; color: #ff6666; padding: 15px; border-radius: 5px; text-align: center;">
        Código <strong>{{ request.GET.codigo }}</strong> não encontrado.
      </div>
      {% endif %}

    </div>
  </div>
{% endblock %}